{"ast":null,"code":"var _jsxFileName = \"/home/nastya/myProject (copy)/my-app/src/components/form/Forma.tsx\";\nimport React, { useState } from 'react';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport MyTextField from './Input';\nimport MyMaskField from './InputWithMask';\nimport { motion } from 'framer-motion';\nimport Button from '@material-ui/core/Button';\nimport { CircularProgress } from 'material-ui';\nimport styled from 'styled-components';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  }));\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2)\n    }\n  }\n})); ///STYLE\n\nconst Container = styled.section`\n  display: inline-block;\n  align-self: center;\n  align-items: center;\n  padding: 20px 60px 50px 60px;\n  background: white;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n`;\nconst Title = styled.h1`\n  margin-bottom: 60px;\n  font-size: 30px;\n  font-family: 'Officina Serif' !important;\n  font-weight: 700 !important;\n  color: #120338;\n`; // const CentrForm = styled.section`\n//   display: flex;\n// `;\n\nconst sleep = time => new Promise(acc => setTimeout(acc, time));\n\nconst initialValues = {\n  phoneNumber: '',\n  price: ''\n};\nconst PaymentSchema = Yup.object().shape({\n  phoneNumber: Yup.string().required('Введите номер'),\n  price: Yup.number().min(1, '').max(1000, 'Сумма не должна превышать 1000₽').required('Введите сумму платежа')\n}); //Компонент\n\nconst Forma = props => {\n  // const successMsg = [\n  //   'Оплата мобильной связи прошла успешно!',\n  //   'Произошла ошибка! Повторите операцию',\n  // ];\n  const [isLoading, setLoading] = useState(false);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleSubmit = async (values, formikHelpers) => {\n    setLoading(true);\n    await sleep(3000);\n    setLoading(false);\n    await sleep(1);\n    setOpen(true); // alert(successMsg[Math.floor(Math.random() * successMsg.length)]);\n  };\n\n  const [values, setValues] = React.useState({\n    textmask: ''\n  });\n\n  const handleChange = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(motion.div, {\n    className: \"centrForm\",\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    transition: {\n      delay: 0.3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, \"\\u041F\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C \\u0441\\u0447\\u0451\\u0442\")), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    onSubmit: handleSubmit,\n    validationSchema: PaymentSchema,\n    handleChange: handleChange,\n    isSubmitting: true // onClick={handleClick}\n    // component={MyForm}\n    ,\n    dirty: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, props => {\n    // props.isSubmitting;\n    return /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MyMaskField, {\n      variant: \"outlined\",\n      label: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",\n      textmask: \"\",\n      name: \"phoneNumber\",\n      id: \"phoneNumber\",\n      type: \"string\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(MyTextField, {\n      variant: \"outlined\",\n      label: \"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u043F\\u043B\\u0430\\u0442\\u0435\\u0436\\u0430\",\n      name: \"price\",\n      id: \"price\",\n      type: \"number\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, !isLoading && !open( /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 23\n      }\n    }, \"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C\")), isLoading && /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      type: \"submit\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430...\", /*#__PURE__*/React.createElement(CircularProgress, {\n      color: \"#6200ea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Snackbar, {\n      open: open,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      onClose: handleClose,\n      severity: severity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 25\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MySnackbar, {\n      message: \"lalala\",\n      severity: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    })));\n  })));\n};\n\nexport default Forma;","map":{"version":3,"sources":["/home/nastya/myProject (copy)/my-app/src/components/form/Forma.tsx"],"names":["React","useState","Formik","Form","Yup","MyTextField","MyMaskField","motion","Button","CircularProgress","styled","Snackbar","MuiAlert","makeStyles","Alert","props","useStyles","theme","root","width","marginTop","spacing","Container","section","Title","h1","sleep","time","Promise","acc","setTimeout","initialValues","phoneNumber","price","PaymentSchema","object","shape","string","required","number","min","max","Forma","isLoading","setLoading","classes","open","setOpen","handleClose","event","reason","handleSubmit","values","formikHelpers","setValues","textmask","handleChange","target","name","value","opacity","delay","severity"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Formik, Form, FormikHelpers } from 'formik';\nimport * as Yup from 'yup';\nimport MyTextField from './Input';\nimport MyMaskField from './InputWithMask';\nimport { motion } from 'framer-motion';\nimport Button from '@material-ui/core/Button';\nimport { CircularProgress } from 'material-ui';\nimport styled from 'styled-components';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\n\nfunction Alert(props: AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\n///STYLE\nconst Container = styled.section`\n  display: inline-block;\n  align-self: center;\n  align-items: center;\n  padding: 20px 60px 50px 60px;\n  background: white;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n`;\n\nconst Title = styled.h1`\n  margin-bottom: 60px;\n  font-size: 30px;\n  font-family: 'Officina Serif' !important;\n  font-weight: 700 !important;\n  color: #120338;\n`;\n\n// const CentrForm = styled.section`\n//   display: flex;\n// `;\n\nconst sleep = (time) => new Promise((acc) => setTimeout(acc, time));\n\ninterface FormValues {\n  phoneNumber: string | number;\n  price: string;\n}\n\nconst initialValues: FormValues = {\n  phoneNumber: '',\n  price: '',\n};\n\ninterface State {\n  textmask: string;\n}\n\nconst PaymentSchema = Yup.object().shape({\n  phoneNumber: Yup.string().required('Введите номер'),\n  price: Yup.number()\n    .min(1, '')\n    .max(1000, 'Сумма не должна превышать 1000₽')\n    .required('Введите сумму платежа'),\n});\n\n//Компонент\nconst Forma: React.FC = (props) => {\n  // const successMsg = [\n  //   'Оплата мобильной связи прошла успешно!',\n  //   'Произошла ошибка! Повторите операцию',\n  // ];\n\n  const [isLoading, setLoading] = useState(false);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleSubmit = async (values: FormValues, formikHelpers: FormikHelpers<FormValues>) => {\n    setLoading(true);\n    await sleep(3000);\n    setLoading(false);\n    await sleep(1);\n    setOpen(true);\n    // alert(successMsg[Math.floor(Math.random() * successMsg.length)]);\n  };\n\n  const [values, setValues] = React.useState<State>({\n    textmask: '',\n  });\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  return (\n    <motion.div\n      className=\"centrForm\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ delay: 0.3 }}>\n      <Container>\n        <div>\n          <Title>Пополнить счёт</Title>\n        </div>\n        <Formik\n          initialValues={initialValues}\n          onSubmit={handleSubmit}\n          validationSchema={PaymentSchema}\n          handleChange={handleChange}\n          isSubmitting\n          // onClick={handleClick}\n          // component={MyForm}\n          dirty>\n          {(props) => {\n            // props.isSubmitting;\n            return (\n              <Form>\n                <div>\n                  <MyMaskField\n                    variant=\"outlined\"\n                    label=\"Номер телефона\"\n                    textmask=\"\"\n                    name=\"phoneNumber\"\n                    id=\"phoneNumber\"\n                    type=\"string\"\n                    required\n                  />\n                  <MyTextField\n                    variant=\"outlined\"\n                    label=\"Сумма платежа\"\n                    name=\"price\"\n                    id=\"price\"\n                    type=\"number\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  {!isLoading &&\n                    !open(\n                      <Button variant=\"outlined\" type=\"submit\">\n                        Оплатить\n                      </Button>,\n                    )}\n                  {isLoading && (\n                    <Button variant=\"outlined\" type=\"submit\" disabled>\n                      Оплата...\n                      <CircularProgress color=\"#6200ea\" />\n                      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n                        <Alert onClose={handleClose} severity={severity}></Alert>\n                      </Snackbar>\n                    </Button>\n                  )}\n                </div>\n                <div>\n                  <MySnackbar message=\"lalala\" severity=\"success\" />\n                </div>\n              </Form>\n            );\n          }}\n        </Formik>\n      </Container>\n    </motion.div>\n  );\n};\n\nexport default Forma;\n"]},"metadata":{},"sourceType":"module"}